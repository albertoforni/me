import{createComponent as d,isServer as H,getRequestEvent as k,delegateEvents as fe,ssrElement as L,escape as b,mergeProps as pe,ssr as v,ssrHydrationKey as S,useAssets as me,NoHydration as ne,HydrationScript as ge,ssrAttribute as x,Hydration as ye,renderToString as we,renderToStream as Re}from"solid-js/web";import{M as be,T as ve,a as Se,L as _,H as re}from"./assets/HttpStatusCode-C32pSpjH.js";import{children as Ee,createMemo as F,getOwner as Ae,untrack as Ce,Show as se,on as $e,createRoot as Te,createSignal as Le,onCleanup as oe,sharedConfig as E,lazy as xe,createComponent as Pe,Suspense as Ne,ErrorBoundary as He,catchError as ke}from"solid-js";import{c as _e,a as qe,R as Oe,b as Ie,d as De,g as W,e as Me,m as Fe,k as Ue,s as je,f as We,n as Be}from"./assets/routing-BF61k76u.js";import{provideRequestEvent as Ke}from"solid-js/web/storage";import{H3Event as O,setResponseStatus as ze,sendRedirect as Ge,setHeader as Je,getRequestIP as Ve,getResponseStatus as Ye,getResponseStatusText as Qe,getCookie as Xe,setCookie as Ze,getRequestURL as et,getResponseHeaders as tt,getResponseHeader as nt,setResponseHeader as rt,appendResponseHeader as st,removeResponseHeader as ot,getRequestWebStream as at,eventHandler as it}from"h3";import{AsyncLocalStorage as ct}from"node:async_hooks";const ae=e=>t=>{const{base:n}=t,s=Ee(()=>t.children),r=F(()=>_e(s(),t.base||""));let a;const o=qe(e,r,()=>a,{base:n,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(o),d(Oe.Provider,{value:o,get children(){return d(lt,{routerState:o,get root(){return t.root},get preload(){return t.rootPreload||t.rootLoad},get children(){return[(a=Ae())&&null,d(ut,{routerState:o,get branches(){return r()}})]}})}})};function lt(e){const t=e.routerState.location,n=e.routerState.params,s=F(()=>e.preload&&Ce(()=>{e.preload({params:n,location:t,intent:Me()||"initial"})}));return d(se,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:r=>d(r,{params:n,location:t,get data(){return s()},get children(){return e.children}})})}function ut(e){if(H){const r=k();if(r&&r.router&&r.router.dataOnly){dt(r,e.routerState,e.branches);return}r&&((r.router||(r.router={})).matches||(r.router.matches=e.routerState.matches().map(({route:a,path:o,params:i})=>({path:a.originalPath,pattern:a.pattern,match:o,params:i,info:a.info}))))}const t=[];let n;const s=F($e(e.routerState.matches,(r,a,o)=>{let i=a&&r.length===a.length;const l=[];for(let c=0,p=r.length;c<p;c++){const R=a&&a[c],m=r[c];o&&R&&m.route.key===R.route.key?l[c]=o[c]:(i=!1,t[c]&&t[c](),Te(w=>{t[c]=w,l[c]=Ie(e.routerState,l[c-1]||e.routerState.base,B(()=>s()[c+1]),()=>e.routerState.matches()[c])}))}return t.splice(r.length).forEach(c=>c()),o&&i?o:(n=l[0],l)}));return B(()=>s()&&n)()}const B=e=>()=>d(se,{get when(){return e()},keyed:!0,children:t=>d(De.Provider,{value:t,get children(){return t.outlet()}})});function dt(e,t,n){const s=new URL(e.request.url),r=W(n,new URL(e.router.previousUrl||e.request.url).pathname),a=W(n,s.pathname);for(let o=0;o<a.length;o++){(!r[o]||a[o].route!==r[o].route)&&(e.router.dataOnly=!0);const{route:i,params:l}=a[o];i.preload&&i.preload({params:l,location:t.location,intent:"preload"})}}function ht([e,t],n,s){return[e,s?r=>t(s(r)):t]}function ft(e){let t=!1;const n=r=>typeof r=="string"?{value:r}:r,s=ht(Le(n(e.get()),{equals:(r,a)=>r.value===a.value&&r.state===a.state}),void 0,r=>(!t&&e.set(r),E.registry&&!E.done&&(E.done=!0),r));return e.init&&oe(e.init((r=e.get())=>{t=!0,s[1](n(r)),t=!1})),ae({signal:s,create:e.create,utils:e.utils})}function pt(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function mt(e,t){const n=e&&document.getElementById(e);n?n.scrollIntoView():t&&window.scrollTo(0,0)}function gt(e){const t=new URL(e);return t.pathname+t.search}function yt(e){let t;const n={value:e.url||(t=k())&&gt(t.request.url)||""};return ae({signal:[()=>n,s=>Object.assign(n,s)]})(e)}const wt=new Map;function Rt(e=!0,t=!1,n="/_server",s){return r=>{const a=r.base.path(),o=r.navigatorFactory(r.base);let i,l;function c(u){return u.namespaceURI==="http://www.w3.org/2000/svg"}function p(u){if(u.defaultPrevented||u.button!==0||u.metaKey||u.altKey||u.ctrlKey||u.shiftKey)return;const h=u.composedPath().find(j=>j instanceof Node&&j.nodeName.toUpperCase()==="A");if(!h||t&&!h.hasAttribute("link"))return;const g=c(h),f=g?h.href.baseVal:h.href;if((g?h.target.baseVal:h.target)||!f&&!h.hasAttribute("state"))return;const $=(h.getAttribute("rel")||"").split(/\s+/);if(h.hasAttribute("download")||$&&$.includes("external"))return;const T=g?new URL(f,document.baseURI):new URL(f);if(!(T.origin!==window.location.origin||a&&T.pathname&&!T.pathname.toLowerCase().startsWith(a.toLowerCase())))return[h,T]}function R(u){const h=p(u);if(!h)return;const[g,f]=h,U=r.parsePath(f.pathname+f.search+f.hash),$=g.getAttribute("state");u.preventDefault(),o(U,{resolve:!1,replace:g.hasAttribute("replace"),scroll:!g.hasAttribute("noscroll"),state:$?JSON.parse($):void 0})}function m(u){const h=p(u);if(!h)return;const[g,f]=h;s&&(f.pathname=s(f.pathname)),r.preloadRoute(f,g.getAttribute("preload")!=="false")}function w(u){clearTimeout(i);const h=p(u);if(!h)return l=null;const[g,f]=h;l!==g&&(s&&(f.pathname=s(f.pathname)),i=setTimeout(()=>{r.preloadRoute(f,g.getAttribute("preload")!=="false"),l=g},20))}function C(u){if(u.defaultPrevented)return;let h=u.submitter&&u.submitter.hasAttribute("formaction")?u.submitter.getAttribute("formaction"):u.target.getAttribute("action");if(!h)return;if(!h.startsWith("https://action/")){const f=new URL(h,Fe);if(h=r.parsePath(f.pathname+f.search),!h.startsWith(n))return}if(u.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const g=wt.get(h);if(g){u.preventDefault();const f=new FormData(u.target,u.submitter);g.call({r,f:u.target},u.target.enctype==="multipart/form-data"?f:new URLSearchParams(f))}}fe(["click","submit"]),document.addEventListener("click",R),e&&(document.addEventListener("mousemove",w,{passive:!0}),document.addEventListener("focusin",m,{passive:!0}),document.addEventListener("touchstart",m,{passive:!0})),document.addEventListener("submit",C),oe(()=>{document.removeEventListener("click",R),e&&(document.removeEventListener("mousemove",w),document.removeEventListener("focusin",m),document.removeEventListener("touchstart",m)),document.removeEventListener("submit",C)})}}function bt(e){if(H)return yt(e);const t=()=>{const s=window.location.pathname.replace(/^\/+/,"/")+window.location.search,r=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:s+window.location.hash,state:r}},n=We();return ft({get:t,set({value:s,replace:r,scroll:a,state:o}){r?window.history.replaceState(Ue(o),"",s):window.history.pushState(o,"",s),mt(decodeURIComponent(window.location.hash.slice(1)),a),je()},init:s=>pt(window,"popstate",Be(s,r=>{if(r&&r<0)return!n.confirm(r);{const a=t();return!n.confirm(a.value,{state:a.state})}})),create:Rt(e.preload,e.explicitLinks,e.actionBase,e.transformUrl),utils:{go:s=>window.history.go(s),beforeLeave:n}})(e)}function vt(e){e.forEach(t=>{if(!t.attrs.href)return;let n=document.head.querySelector(`link[href="${t.attrs.href}"]`);n||(n=document.createElement("link"),n.setAttribute("rel","preload"),n.setAttribute("as","style"),n.setAttribute("href",t.attrs.href),document.head.appendChild(n))})}var St=" ";const Et={style:e=>L("style",e.attrs,()=>b(e.children),!0),link:e=>L("link",e.attrs,void 0,!0),script:e=>e.attrs.src?L("script",pe(()=>e.attrs,{get id(){return e.key}}),()=>v(St),!0):null,noscript:e=>L("noscript",e.attrs,()=>b(e.children),!0)};function I(e,t){let{tag:n,attrs:{key:s,...r}={key:void 0},children:a}=e;return Et[n]({attrs:{...r,nonce:t},key:s,children:a})}function At(e,t,n,s="default"){return xe(async()=>{{const a=(await e.import())[s],i=(await t.inputs?.[e.src].assets()).filter(c=>c.tag==="style"||c.attrs.rel==="stylesheet");return typeof window<"u"&&vt(i),{default:c=>[...i.map(p=>I(p)),Pe(a,c)]}}})}const A={NORMAL:0,WILDCARD:1,PLACEHOLDER:2};function Ct(e={}){const t={options:e,rootNode:ie(),staticRoutesMap:{}},n=s=>e.strictTrailingSlash?s:s.replace(/\/$/,"")||"/";if(e.routes)for(const s in e.routes)K(t,n(s),e.routes[s]);return{ctx:t,lookup:s=>$t(t,n(s)),insert:(s,r)=>K(t,n(s),r),remove:s=>Tt(t,n(s))}}function $t(e,t){const n=e.staticRoutesMap[t];if(n)return n.data;const s=t.split("/"),r={};let a=!1,o=null,i=e.rootNode,l=null;for(let c=0;c<s.length;c++){const p=s[c];i.wildcardChildNode!==null&&(o=i.wildcardChildNode,l=s.slice(c).join("/"));const R=i.children.get(p);if(R===void 0){if(i&&i.placeholderChildren.length>1){const m=s.length-c;i=i.placeholderChildren.find(w=>w.maxDepth===m)||null}else i=i.placeholderChildren[0]||null;if(!i)break;i.paramName&&(r[i.paramName]=p),a=!0}else i=R}return(i===null||i.data===null)&&o!==null&&(i=o,r[i.paramName||"_"]=l,a=!0),i?a?{...i.data,params:a?r:void 0}:i.data:null}function K(e,t,n){let s=!0;const r=t.split("/");let a=e.rootNode,o=0;const i=[a];for(const l of r){let c;if(c=a.children.get(l))a=c;else{const p=Lt(l);c=ie({type:p,parent:a}),a.children.set(l,c),p===A.PLACEHOLDER?(c.paramName=l==="*"?`_${o++}`:l.slice(1),a.placeholderChildren.push(c),s=!1):p===A.WILDCARD&&(a.wildcardChildNode=c,c.paramName=l.slice(3)||"_",s=!1),i.push(c),a=c}}for(const[l,c]of i.entries())c.maxDepth=Math.max(i.length-l,c.maxDepth||0);return a.data=n,s===!0&&(e.staticRoutesMap[t]=a),a}function Tt(e,t){let n=!1;const s=t.split("/");let r=e.rootNode;for(const a of s)if(r=r.children.get(a),!r)return n;if(r.data){const a=s.at(-1)||"";r.data=null,Object.keys(r.children).length===0&&r.parent&&(r.parent.children.delete(a),r.parent.wildcardChildNode=null,r.parent.placeholderChildren=[]),n=!0}return n}function ie(e={}){return{type:e.type||A.NORMAL,maxDepth:0,parent:e.parent||null,children:new Map,data:e.data||null,paramName:e.paramName||null,wildcardChildNode:null,placeholderChildren:[]}}function Lt(e){return e.startsWith("**")?A.WILDCARD:e[0]===":"||e==="*"?A.PLACEHOLDER:A.NORMAL}const ce=[{page:!0,$component:{src:"src/routes/[...404].tsx?pick=default&pick=$css",build:()=>import("./_...404_.js"),import:()=>import("./_...404_.js")},path:"/*404",filePath:"/Users/albertoforni/Projects/me/src/routes/[...404].tsx"},{page:!0,$component:{src:"src/routes/index.tsx?pick=default&pick=$css",build:()=>import("./index.js"),import:()=>import("./index.js")},path:"/",filePath:"/Users/albertoforni/Projects/me/src/routes/index.tsx"}],xt=Pt(ce.filter(e=>e.page));function Pt(e){function t(n,s,r,a){const o=Object.values(n).find(i=>r.startsWith(i.id+"/"));return o?(t(o.children||(o.children=[]),s,r.slice(o.id.length)),n):(n.push({...s,id:r,path:r.replace(/\/\([^)/]+\)/g,"").replace(/\([^)/]+\)/g,"")}),n)}return e.sort((n,s)=>n.path.length-s.path.length).reduce((n,s)=>t(n,s,s.path,s.path),[])}function Nt(e,t){const n=kt.lookup(e);if(n&&n.route){const s=t==="HEAD"?n.route.$HEAD||n.route.$GET:n.route[`$${t}`];return s===void 0?void 0:{handler:s,params:n.params}}}function Ht(e){return e.$HEAD||e.$GET||e.$POST||e.$PUT||e.$PATCH||e.$DELETE}const kt=Ct({routes:ce.reduce((e,t)=>{if(!Ht(t))return e;let n=t.path.replace(/\/\([^)/]+\)/g,"").replace(/\([^)/]+\)/g,"").replace(/\*([^/]*)/g,(s,r)=>`**:${r}`).split("/").map(s=>s.startsWith(":")||s.startsWith("*")?s:encodeURIComponent(s)).join("/");if(/:[^/]*\?/g.test(n))throw new Error(`Optional parameters are not supported in API routes: ${n}`);if(e[n])throw new Error(`Duplicate API routes for "${n}" found at "${e[n].route.path}" and "${t.path}"`);return e[n]={route:t},e},{})});function le(){function e(n){return{...n,...n.$$route?n.$$route.require().route:void 0,info:{...n.$$route?n.$$route.require().route.info:{},filesystem:!0},component:n.$component&&At(n.$component,globalThis.MANIFEST.client,globalThis.MANIFEST.ssr),children:n.children?n.children.map(e):void 0}}return xt.map(e)}let z;const _t=H?()=>k().routes:()=>z||(z=le());function qt(){return d(bt,{root:e=>d(be,{get children(){return[d(ve,{children:"Alberto Forni"}),d(Se,{name:"viewport",content:"width=device-width, initial-scale=1"}),d(_,{rel:"preconnect",href:"https://fonts.googleapis.com"}),d(_,{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:"anonymous"}),d(_,{href:"https://fonts.googleapis.com/css2?family=Fira+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap",rel:"stylesheet"}),d(Ne,{get children(){return e.children}})]}}),get children(){return d(_t,{})}})}var Ot=["<span",' style="font-size:1.5em;text-align:center;position:fixed;left:0px;bottom:55%;width:100%;">',"</span>"],It=["<span",' style="font-size:1.5em;text-align:center;position:fixed;left:0px;bottom:55%;width:100%;">500 | Internal Server Error</span>'];const Dt=e=>{const t=H?"500 | Internal Server Error":"Error | Uncaught Client Exception";return d(He,{fallback:n=>(console.error(n),[v(Ot,S(),b(t)),d(re,{code:500})]),get children(){return e.children}})},Mt=e=>{let t=!1;const n=ke(()=>e.children,s=>{console.error(s),t=!!s});return t?[v(It,S()),d(re,{code:500})]:n};var G=["<script",">","<\/script>"],Ft=["<script",' type="module"'," async","><\/script>"],Ut=["<script",' type="module" async',"><\/script>"];const jt=v("<!DOCTYPE html>");function ue(e,t,n=[]){for(let s=0;s<t.length;s++){const r=t[s];if(r.path!==e[0].path)continue;let a=[...n,r];if(r.children){const o=e.slice(1);if(o.length===0||(a=ue(o,r.children,a),!a))continue}return a}}function Wt(e){const t=k(),n=t.nonce;let s=[];return Promise.resolve().then(async()=>{let r=[];if(t.router&&t.router.matches){const a=[...t.router.matches];for(;a.length&&(!a[0].info||!a[0].info.filesystem);)a.shift();const o=a.length&&ue(a,t.routes);if(o){const i=globalThis.MANIFEST.client.inputs;for(let l=0;l<o.length;l++){const c=o[l],p=i[c.$component.src];r.push(p.assets())}}}s=await Promise.all(r).then(a=>[...new Map(a.flat().map(o=>[o.attrs.key,o])).values()].filter(o=>o.attrs.rel==="modulepreload"&&!t.assets.find(i=>i.attrs.key===o.attrs.key)))}),me(()=>s.length?s.map(r=>I(r)):void 0),d(ne,{get children(){return[jt,d(Mt,{get children(){return d(e.document,{get assets(){return[d(ge,{}),t.assets.map(r=>I(r,n))]},get scripts(){return n?[v(G,S()+x("nonce",b(n,!0),!1),`window.manifest = ${JSON.stringify(t.manifest)}`),v(Ft,S(),x("nonce",b(n,!0),!1),x("src",b(globalThis.MANIFEST.client.inputs[globalThis.MANIFEST.client.handler].output.path,!0),!1))]:[v(G,S(),`window.manifest = ${JSON.stringify(t.manifest)}`),v(Ut,S(),x("src",b(globalThis.MANIFEST.client.inputs[globalThis.MANIFEST.client.handler].output.path,!0),!1))]},get children(){return d(ye,{get children(){return d(Dt,{get children(){return d(qt,{})}})}})}})}})]}})}function Bt(e={}){let t,n=!1;const s=o=>{if(t&&t!==o)throw new Error("Context conflict")};let r;if(e.asyncContext){const o=e.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?r=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const a=()=>{if(r&&t===void 0){const o=r.getStore();if(o!==void 0)return o}return t};return{use:()=>{const o=a();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>a(),set:(o,i)=>{i||s(o),t=o,n=!0},unset:()=>{t=void 0,n=!1},call:(o,i)=>{s(o),t=o;try{return r?r.run(o,i):i()}finally{n||(t=void 0)}},async callAsync(o,i){t=o;const l=()=>{t=o},c=()=>t===o?l:void 0;Y.add(c);try{const p=r?r.run(o,i):i();return n||(t=void 0),await p}finally{Y.delete(c)}}}}function Kt(e={}){const t={};return{get(n,s={}){return t[n]||(t[n]=Bt({...e,...s})),t[n],t[n]}}}const N=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},J="__unctx__",zt=N[J]||(N[J]=Kt()),Gt=(e,t={})=>zt.get(e,t),V="__unctx_async_handlers__",Y=N[V]||(N[V]=new Set);function Jt(e){let t;const n=he(e),s={duplex:"half",method:e.method,headers:e.headers};return e.node.req.body instanceof ArrayBuffer?new Request(n,{...s,body:e.node.req.body}):new Request(n,{...s,get body(){return t||(t=on(e),t)}})}function Vt(e){return e.web??={request:Jt(e),url:he(e)},e.web.request}function Yt(){return un()}const de=Symbol("$HTTPEvent");function Qt(e){return typeof e=="object"&&(e instanceof O||e?.[de]instanceof O||e?.__is_event__===!0)}function y(e){return function(...t){let n=t[0];if(Qt(n))t[0]=n instanceof O||n.__is_event__?n:n[de];else{if(!globalThis.app.config.server.experimental?.asyncContext)throw new Error("AsyncLocalStorage was not enabled. Use the `server.experimental.asyncContext: true` option in your app configuration to enable it. Or, pass the instance of HTTPEvent that you have as the first argument to the function.");if(n=Yt(),!n)throw new Error("No HTTPEvent found in AsyncLocalStorage. Make sure you are using the function within the server runtime.");t.unshift(n)}return e(...t)}}const he=y(et),Xt=y(Ve),D=y(ze),Q=y(Ye),Zt=y(Qe),P=y(tt),X=y(nt),en=y(rt),tn=y(st),Z=y(Ge),nn=y(Xe),rn=y(Ze),sn=y(Je),on=y(at),an=y(ot),cn=y(Vt);function ln(){return Gt("nitro-app",{asyncContext:!!globalThis.app.config.server.experimental?.asyncContext,AsyncLocalStorage:ct})}function un(){return ln().use().event}const q="solidFetchEvent";function dn(e){return{request:cn(e),response:pn(e),clientAddress:Xt(e),locals:{},nativeEvent:e}}function hn(e){if(!e.context[q]){const t=dn(e);e.context[q]=t}return e.context[q]}class fn{event;constructor(t){this.event=t}get(t){const n=X(this.event,t);return Array.isArray(n)?n.join(", "):n||null}has(t){return this.get(t)!==void 0}set(t,n){return en(this.event,t,n)}delete(t){return an(this.event,t)}append(t,n){tn(this.event,t,n)}getSetCookie(){const t=X(this.event,"Set-Cookie");return Array.isArray(t)?t:[t]}forEach(t){return Object.entries(P(this.event)).forEach(([n,s])=>t(Array.isArray(s)?s.join(", "):s,n,this))}entries(){return Object.entries(P(this.event)).map(([t,n])=>[t,Array.isArray(n)?n.join(", "):n])[Symbol.iterator]()}keys(){return Object.keys(P(this.event))[Symbol.iterator]()}values(){return Object.values(P(this.event)).map(t=>Array.isArray(t)?t.join(", "):t)[Symbol.iterator]()}[Symbol.iterator](){return this.entries()[Symbol.iterator]()}}function pn(e){return{get status(){return Q(e)},set status(t){D(e,t)},get statusText(){return Zt(e)},set statusText(t){D(e,Q(e),t)},headers:new fn(e)}}function mn(e){const t=nn(e.nativeEvent,"flash");if(t)try{let n=JSON.parse(t);if(!n||!n.result)return;const s=[...n.input.slice(0,-1),new Map(n.input[n.input.length-1])],r=n.error?new Error(n.result):n.result;return{input:s,url:n.url,pending:!1,result:n.thrown?void 0:r,error:n.thrown?r:void 0}}catch(n){console.error(n)}finally{rn(e.nativeEvent,"flash","",{maxAge:0})}}async function gn(e){const t=globalThis.MANIFEST.client;return globalThis.MANIFEST.ssr,e.response.headers.set("Content-Type","text/html"),Object.assign(e,{manifest:await t.json(),assets:[...await t.inputs[t.handler].assets()],router:{submission:mn(e)},routes:le(),complete:!1,$islands:new Set})}const yn=new Set([301,302,303,307,308]);function M(e){return e.status&&yn.has(e.status)?e.status:302}function wn(e,t,n={}){return it({handler:s=>{const r=hn(s);return Ke(r,async()=>{const a=Nt(new URL(r.request.url).pathname,r.request.method);if(a){const m=await a.handler.import(),w=r.request.method==="HEAD"?m.HEAD||m.GET:m[r.request.method];r.params=a.params||{},E.context={event:r};const C=await w(r);if(C!==void 0)return C;if(r.request.method!=="GET")throw new Error(`API handler for ${r.request.method} "${r.request.url}" did not return a response.`)}const o=await t(r),i=typeof n=="function"?await n(o):{...n},l=i.mode||"stream";if(i.nonce&&(o.nonce=i.nonce),l==="sync"){const m=we(()=>(E.context.event=o,e(o)),i);if(o.complete=!0,o.response&&o.response.headers.get("Location")){const w=M(o.response);return Z(s,o.response.headers.get("Location"),w)}return m}if(i.onCompleteAll){const m=i.onCompleteAll;i.onCompleteAll=w=>{te(o)(w),m(w)}}else i.onCompleteAll=te(o);if(i.onCompleteShell){const m=i.onCompleteShell;i.onCompleteShell=w=>{ee(o,s)(),m(w)}}else i.onCompleteShell=ee(o,s);const c=Re(()=>(E.context.event=o,e(o)),i);if(o.response&&o.response.headers.get("Location")){const m=M(o.response);return Z(s,o.response.headers.get("Location"),m)}if(l==="async")return c;const{writable:p,readable:R}=new TransformStream;return c.pipeTo(p),R})}})}function ee(e,t){return()=>{if(e.response&&e.response.headers.get("Location")){const n=M(e.response);D(t,n),sn(t,"Location",e.response.headers.get("Location"))}}}function te(e){return({write:t})=>{e.complete=!0;const n=e.response&&e.response.headers.get("Location");n&&t(`<script>window.location="${n}"<\/script>`)}}function Rn(e,t){return wn(e,gn,t)}var bn=['<head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico">',"</head>"],vn=["<html",' lang="en">','<body><div id="app">',"</div><!--$-->","<!--/--></body></html>"];const xn=Rn(()=>d(Wt,{document:({assets:e,children:t,scripts:n})=>v(vn,S(),d(ne,{get children(){return v(bn,b(e))}}),b(t),b(n))}));export{xn as default};
