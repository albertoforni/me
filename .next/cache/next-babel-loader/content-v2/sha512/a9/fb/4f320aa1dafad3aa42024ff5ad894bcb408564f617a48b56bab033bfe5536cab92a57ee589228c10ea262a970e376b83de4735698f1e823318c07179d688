{"ast":null,"code":"var _jsxFileName = \"/Users/albertoforni/Projects/me/common/components/DomDelayedUpdate.tsx\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from \"react\";\n\nclass DomDelayedUpdate extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"componentDom\", void 0);\n  }\n\n  componentDidMount() {\n    setTimeout(() => {\n      this.componentDom.classList.add(this.props.mountClass);\n    }, this.props.mountDelay);\n  }\n\n  componentDidUpdate() {\n    const {\n      shouldUpdate,\n      updateClass,\n      updateDelay,\n      shouldUpdateWithMountClass,\n      mountClass\n    } = this.props;\n    setTimeout(() => {\n      if (shouldUpdate) {\n        this.componentDom.classList.add(updateClass);\n      } else if (shouldUpdateWithMountClass) {\n        this.componentDom.className = mountClass;\n      } else {\n        this.componentDom.classList.remove(updateClass);\n      }\n    }, updateDelay);\n  }\n\n  reset(resetToEmptyClass) {\n    this.componentDom.className = resetToEmptyClass ? \"\" : this.props.mountClass;\n  }\n\n  render() {\n    const {\n      children\n    } = this.props;\n    return __jsx(\"div\", {\n      ref: component => {\n        this.componentDom = component;\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }, children);\n  }\n\n}\n\n_defineProperty(DomDelayedUpdate, \"defaultProps\", {\n  mountClass: \"default\",\n  mountDelay: 0,\n  shouldUpdate: false,\n  updateClass: \"default\",\n  updateDelay: 200\n});\n\nexport default DomDelayedUpdate;","map":{"version":3,"sources":["/Users/albertoforni/Projects/me/common/components/DomDelayedUpdate.tsx"],"names":["React","DomDelayedUpdate","Component","componentDidMount","setTimeout","componentDom","classList","add","props","mountClass","mountDelay","componentDidUpdate","shouldUpdate","updateClass","updateDelay","shouldUpdateWithMountClass","className","remove","reset","resetToEmptyClass","render","children","component"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAYA,MAAMC,gBAAN,SAA+BD,KAAK,CAACE,SAArC,CAAsD;AAAA;AAAA;;AAAA;AAAA;;AAWpDC,EAAAA,iBAAiB,GAAG;AAClBC,IAAAA,UAAU,CAAC,MAAM;AACf,WAAKC,YAAL,CAAkBC,SAAlB,CAA4BC,GAA5B,CAAgC,KAAKC,KAAL,CAAWC,UAA3C;AACD,KAFS,EAEP,KAAKD,KAAL,CAAWE,UAFJ,CAAV;AAGD;;AAEDC,EAAAA,kBAAkB,GAAG;AACnB,UAAM;AACJC,MAAAA,YADI;AAEJC,MAAAA,WAFI;AAGJC,MAAAA,WAHI;AAIJC,MAAAA,0BAJI;AAKJN,MAAAA;AALI,QAMF,KAAKD,KANT;AAQAJ,IAAAA,UAAU,CAAC,MAAM;AACf,UAAIQ,YAAJ,EAAkB;AAChB,aAAKP,YAAL,CAAkBC,SAAlB,CAA4BC,GAA5B,CAAgCM,WAAhC;AACD,OAFD,MAEO,IAAIE,0BAAJ,EAAgC;AACrC,aAAKV,YAAL,CAAkBW,SAAlB,GAA8BP,UAA9B;AACD,OAFM,MAEA;AACL,aAAKJ,YAAL,CAAkBC,SAAlB,CAA4BW,MAA5B,CAAmCJ,WAAnC;AACD;AACF,KARS,EAQPC,WARO,CAAV;AASD;;AAEDI,EAAAA,KAAK,CAACC,iBAAD,EAAoB;AACvB,SAAKd,YAAL,CAAkBW,SAAlB,GAA8BG,iBAAiB,GAC3C,EAD2C,GAE3C,KAAKX,KAAL,CAAWC,UAFf;AAGD;;AAEDW,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEC,MAAAA;AAAF,QAAe,KAAKb,KAA1B;AAEA,WACE;AACE,MAAA,GAAG,EAAGc,SAAD,IAAe;AAClB,aAAKjB,YAAL,GAAoBiB,SAApB;AACD,OAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKGD,QALH,CADF;AASD;;AAvDmD;;gBAAhDpB,gB,kBACkB;AACpBQ,EAAAA,UAAU,EAAE,SADQ;AAEpBC,EAAAA,UAAU,EAAE,CAFQ;AAGpBE,EAAAA,YAAY,EAAE,KAHM;AAIpBC,EAAAA,WAAW,EAAE,SAJO;AAKpBC,EAAAA,WAAW,EAAE;AALO,C;;AAyDxB,eAAeb,gBAAf","sourcesContent":["import React from \"react\";\n\ntype Props = {\n  mountClass: string;\n  mountDelay: number;\n  shouldUpdate: boolean;\n  shouldUpdateWithMountClass: boolean;\n  updateClass: string;\n  updateDelay: number;\n  children: React.ReactNode;\n};\n\nclass DomDelayedUpdate extends React.Component<Props> {\n  static defaultProps = {\n    mountClass: \"default\",\n    mountDelay: 0,\n    shouldUpdate: false,\n    updateClass: \"default\",\n    updateDelay: 200,\n  };\n\n  componentDom!: HTMLDivElement;\n\n  componentDidMount() {\n    setTimeout(() => {\n      this.componentDom.classList.add(this.props.mountClass);\n    }, this.props.mountDelay);\n  }\n\n  componentDidUpdate() {\n    const {\n      shouldUpdate,\n      updateClass,\n      updateDelay,\n      shouldUpdateWithMountClass,\n      mountClass,\n    } = this.props;\n\n    setTimeout(() => {\n      if (shouldUpdate) {\n        this.componentDom.classList.add(updateClass);\n      } else if (shouldUpdateWithMountClass) {\n        this.componentDom.className = mountClass;\n      } else {\n        this.componentDom.classList.remove(updateClass);\n      }\n    }, updateDelay);\n  }\n\n  reset(resetToEmptyClass) {\n    this.componentDom.className = resetToEmptyClass\n      ? \"\"\n      : this.props.mountClass;\n  }\n\n  render() {\n    const { children } = this.props;\n\n    return (\n      <div\n        ref={(component) => {\n          this.componentDom = component;\n        }}\n      >\n        {children}\n      </div>\n    );\n  }\n}\n\nexport default DomDelayedUpdate;\n"]},"metadata":{},"sourceType":"module"}