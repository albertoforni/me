{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport { shallow, mount } from \"enzyme\";\nimport Nav from \"./Nav\";\nimport NavItem from \"./NavItem\";\nimport HamburgerMenu from \"./HamburgerMenu\";\nimport Button from \"../../common/components/Button\";\nimport DomDelayedUpdate from \"../../common/components/DomDelayedUpdate\";\nvar defaultProps = {\n  navItems: [{\n    icon: \"an icon\",\n    text: \"some text\"\n  }, {\n    icon: \"an icon\",\n    text: \"some text\"\n  }],\n  onNavItemClick: function onNavItemClick() {},\n  selectedItem: -1\n};\nit(\"renders NavItems inside DomDelayedUpdate\", function () {\n  var navItems = [{\n    icon: \"an icon\",\n    text: \"some text\"\n  }, {\n    icon: \"an icon\",\n    text: \"some text\"\n  }];\n  var wrapper = shallow(__jsx(Nav, _extends({}, defaultProps, {\n    navItems: navItems\n  })));\n  var domDelayedUpdate = wrapper.find(DomDelayedUpdate);\n  expect(domDelayedUpdate.find(NavItem).length).toEqual(navItems.length);\n  var domDelayedUpdateProps = domDelayedUpdate.props();\n  expect(domDelayedUpdateProps.mountClass).toEqual(\"parentStartAnimation\");\n  expect(domDelayedUpdateProps.mountDelay).toEqual(150);\n  expect(domDelayedUpdateProps.shouldUpdate).toEqual(false);\n});\nit(\"calls the onNavItemClick with the new menu Index\", function () {\n  var aSpyFunc = jest.fn();\n  var wrapper = shallow(__jsx(Nav, _extends({}, defaultProps, {\n    onNavItemClick: aSpyFunc\n  })));\n  wrapper.find(NavItem).at(1).props().onNavItemClick();\n  expect(aSpyFunc).toHaveBeenCalledWith(1);\n});\nit(\"shows only the selectedNavItem\", function () {\n  var thisTestIcon = \"this test icon\";\n  var thisTestText = \"this test text\";\n  var navItems = [{\n    icon: \"an icon\",\n    text: \"some text\"\n  }, {\n    icon: \"an icon\",\n    text: \"some text\"\n  }, {\n    icon: thisTestIcon,\n    text: thisTestText\n  }];\n  var selectedItem = 2;\n  var wrapper = shallow(__jsx(Nav, _extends({}, defaultProps, {\n    navItems: navItems,\n    selectedItem: selectedItem\n  })));\n  expect(wrapper.find(NavItem).length).toEqual(3);\n  expect(wrapper.find(NavItem).at(selectedItem).props().icon).toEqual(thisTestIcon);\n  expect(wrapper.find(NavItem).at(selectedItem).props().text).toEqual(thisTestText);\n  expect(wrapper.find(NavItem).at(selectedItem).props().animationClasses.hideRoot).toEqual(\"\");\n  expect(wrapper.find(NavItem).at(0).props().animationClasses.hideRoot).toEqual(\"hideRoot\");\n  expect(wrapper.find(NavItem).at(1).props().animationClasses.hideRoot).toEqual(\"hideRoot\");\n});\ndescribe(\"navigation buttons\", function () {\n  it(\"calls onNavItemClick with the next index\", function () {\n    var aSpyFunc = jest.fn();\n    var nextItemIndex = 1;\n    var wrapper = shallow(__jsx(Nav, _extends({}, defaultProps, {\n      onNavItemClick: aSpyFunc,\n      selectedItem: 0\n    })));\n    wrapper.find(Button).at(1).props().onClick();\n    expect(aSpyFunc).toHaveBeenCalledWith(nextItemIndex);\n  });\n  it(\"calls onNavItemClick with the 0 if currentIndex is the last one\", function () {\n    var aSpyFunc = jest.fn();\n    var wrapper = shallow(__jsx(Nav, _extends({}, defaultProps, {\n      onNavItemClick: aSpyFunc,\n      selectedItem: 1\n    })));\n    wrapper.find(Button).at(1).props().onClick();\n    expect(aSpyFunc).toHaveBeenCalledWith(0);\n  });\n  it(\"calls onNavItemClick with the prev index\", function () {\n    var aSpyFunc = jest.fn();\n    var prevItemIndex = 0;\n    var wrapper = shallow(__jsx(Nav, _extends({}, defaultProps, {\n      onNavItemClick: aSpyFunc,\n      selectedItem: 1\n    })));\n    wrapper.find(Button).at(0).props().onClick();\n    expect(aSpyFunc).toHaveBeenCalledWith(prevItemIndex);\n  });\n  it(\"calls onNavItemClick with the last nav item when current index is 0\", function () {\n    var aSpyFunc = jest.fn();\n    var lastNavItemIndex = defaultProps.navItems.length - 1;\n    var wrapper = shallow(__jsx(Nav, _extends({}, defaultProps, {\n      onNavItemClick: aSpyFunc,\n      selectedItem: 0\n    })));\n    wrapper.find(Button).at(0).props().onClick();\n    expect(aSpyFunc).toHaveBeenCalledWith(lastNavItemIndex);\n  });\n});\ndescribe(\"hamburger menu\", function () {\n  it(\"doesnt show the hamburger menu if there are no active sections\", function () {\n    var wrapper = shallow(__jsx(Nav, _extends({}, defaultProps, {\n      selectedItem: -1\n    })));\n    expect(wrapper.find(HamburgerMenu).length).toEqual(1);\n    expect(wrapper.find(HamburgerMenu).props().show).toEqual(false);\n  });\n  it(\"shows the hamburger menu if there is an active section\", function () {\n    var wrapper = shallow(__jsx(Nav, _extends({}, defaultProps, {\n      selectedItem: 0\n    })));\n    expect(wrapper.find(HamburgerMenu).length).toEqual(1);\n    expect(wrapper.find(HamburgerMenu).props().show).toEqual(true);\n  });\n  it(\"calls onNavItemClick with index -1 after reseting DomDelayedUpdate\", function () {\n    var aSpyFunc = jest.fn();\n    var aDomDelayedUpdateSpyFn = jest.fn();\n    var wrapper = mount(__jsx(Nav, _extends({}, defaultProps, {\n      onNavItemClick: aSpyFunc,\n      selectedItem: 0\n    })));\n    wrapper.find(DomDelayedUpdate).node.reset = aDomDelayedUpdateSpyFn;\n    wrapper.find(HamburgerMenu).props().onClick();\n    expect(aSpyFunc).toHaveBeenCalledWith(-1);\n    expect(aDomDelayedUpdateSpyFn).toHaveBeenCalledWith();\n  });\n});","map":null,"metadata":{},"sourceType":"module"}